DATABASE_URL="postgresql://postgres:postgres@localhost:5432/blogcms"
DATABASE_URL_UNPOOLED="postgresql://postgres:postgres@localhost:5432/blogcms"
NODE_ENV=production
JWT_SECRET="your-jwt-secret-key-here"
SESSION_SECRET="your-session-secret-key-here"
JWT_EXPIRATION="7d"
JWT_REMEMBER_EXPIRATION="30d"
# Optional: seed an initial admin user during `prisma db seed`
SEED_ADMIN_EMAIL=""
SEED_ADMIN_USERNAME=""
SEED_ADMIN_PASSWORD=""
PORT=3001

# Comma-separated list of allowed frontend origins for CORS
# Example: http://localhost:3000,https://yourdomain.com
CORS_ORIGINS="http://localhost:3000"
# Explicit allowlist entries matching your frontend origin (no trailing slash)
FRONTEND_URL="http://localhost:3000"
CLIENT_URL="http://localhost:3000"

# Gate Swagger docs (keep false in production)
ENABLE_SWAGGER=false

# Optional Content-Security-Policy support
# Set ENABLE_CSP=true to send a CSP header on all responses.
# You can override the default policy by specifying CSP_HEADER.
# Example CSP (adjust to your asset needs):
# CSP_HEADER="default-src 'self'; img-src 'self' data: https:; media-src 'self' https:; style-src 'self' 'unsafe-inline' https:; font-src 'self' data: https:; connect-src 'self' https:; frame-ancestors 'none'; base-uri 'self'; form-action 'self'"
ENABLE_CSP=false
## CSP_HEADER=

# Timeouts and tuning
SETTINGS_FETCH_TIMEOUT_MS=3000
DB_CONNECT_TIMEOUT_MS=8000

# Upload validation limits
# Max total pixels allowed for uploaded images (width*height). Default 40000000 (40MP).
# Example: 25000000
#UPLOAD_MAX_PIXELS=

# Optional: HttpOnly auth cookie support
# Enable to have the backend set a JWT in an HttpOnly cookie on login, and clear on logout.
# If disabled, clients should use the Authorization: Bearer header only.
AUTH_COOKIE_ENABLED=false
# Cookie name (default: access_token)
## AUTH_COOKIE_NAME=access_token
# SameSite policy: Lax | Strict | None (case-insensitive). Use None for true cross-site scenarios.
## AUTH_COOKIE_SAMESITE=Lax
# Secure flag for the cookie. MUST be true if SameSite=None, and in production over HTTPS.
## AUTH_COOKIE_SECURE=false
# Optional cookie domain (e.g., .example.com) to share across subdomains.
## AUTH_COOKIE_DOMAIN=
# Max-Age in ms when rememberMe is true (default 30 days)
## AUTH_COOKIE_REMEMBER_MAX_AGE_MS=2592000000

# Rate limiting (recommended in production)
ENABLE_RATE_LIMITING=false
RATE_LIMIT_TTL=60
RATE_LIMIT_LIMIT=100
SEARCH_RATE_LIMIT_TTL=60
SEARCH_RATE_LIMIT_LIMIT=30
# Dedicated login rate limiter
# Window in ms and maximum requests within the window
AUTH_LOGIN_RATE_LIMIT_WINDOW_MS=900000
AUTH_LOGIN_RATE_LIMIT_MAX=10

# CSRF protection (double-submit cookie) when using HttpOnly cookie auth
# Enable/disable and configure header/cookie names and skip paths
CSRF_PROTECTION=true
CSRF_COOKIE_NAME=csrf_token
CSRF_HEADER_NAME=X-CSRF-Token
# Comma-separated list of paths to skip CSRF checks (typically auth endpoints)
CSRF_SKIP_PATHS=/api/auth/login,/api/auth/register

# Optional: Redis for cache/WS adapter when scaling horizontally
# REDIS_URL=redis://default:password@localhost:6379/0

# Optional: S3/object storage (recommended for production uploads)
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# AWS_REGION=
# AWS_S3_BUCKET=
# AWS_S3_BASE_URL=
